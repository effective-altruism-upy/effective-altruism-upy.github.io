---
import MainLayout from '../../layouts/MainLayout.astro';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';

// Datos de contacto
const contactInfo = {
  email: "contacto@eaupy.org",
  phone: "+52 999 123 4567",
  location: "Universidad Politécnica de Yucatán, Mérida, México",
  socialMedia: [
   
    { name: "Instagram", url: "https://instagram.com/eaupy", icon: "instagram" },
    { name: "LinkedIn", url: "https://linkedin.com/company/eaupy", icon: "linkedin" }
  ]
};

// Preguntas frecuentes
const faqs = [
  {
    question: "¿Cómo puedo unirme a EA UPY?",
    answer: "Puedes unirte asistiendo a nuestras reuniones semanales o completando el formulario de contacto en esta página. También organizamos eventos de introducción al inicio de cada semestre."
  },
  {
    question: "¿Necesito conocimiento previo sobre altruismo eficaz?",
    answer: "No se requiere experiencia previa. Damos la bienvenida a personas de todos los niveles de conocimiento, desde principiantes hasta aquellos familiarizados con los conceptos del altruismo eficaz."
  },
  {
    question: "¿EA UPY está afiliado a otras organizaciones?",
    answer: "Somos un grupo estudiantil independiente, pero colaboramos con la red global de Altruismo Eficaz y otras organizaciones afines con las que compartimos valores y objetivos."
  },
  {
    question: "¿Ofrecen oportunidades de voluntariado?",
    answer: "Sí, regularmente organizamos y participamos en proyectos de voluntariado basados en evidencia. Estos eventos se anuncian en nuestras redes sociales y reuniones."
  }
];
---

<MainLayout title="Contacto | Altruismo Eficaz UPY">
  <Navigation />
  
  <main class="contact-container">
    <section class="contact-hero">
      <div class="container">
        <div class="hero-content">
          <h1>Conecta con <span class="highlight">EA UPY</span></h1>
          <p class="subtitle">Estamos aquí para responder tus preguntas y explorar juntos cómo podemos generar un mayor impacto positivo.</p>
        </div>
      </div>
     
        
          <path fill="#1a1a1a" fill-opacity="1" d="M0,224L48,229.3C96,235,192,245,288,229.3C384,213,480,171,576,165.3C672,160,768,192,864,197.3C960,203,1056,181,1152,170.7C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
        </svg>
      </div>
    </section>
    
          <div class="contact-info-container">
            <div class="info-card">
              <h2>Información de contacto</h2>
              
              <div class="info-list">
                <div class="info-item">
                  <div class="info-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.238L12.072 14.338L4 7.216V19H20V7.238ZM4.511 5L12.061 11.662L19.502 5H4.511Z" fill="currentColor"/>
                    </svg>
                  </div>
                  <div class="info-content">
                    <h3>Correo electrónico</h3>
                    <p><a href={`mailto:${contactInfo.email}`}>{contactInfo.email}</a></p>
                  </div>
                </div>
                
                <div class="info-item">
                  <div class="info-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.36556 10.6821C10.302 12.5491 11.4529 14.3053 13.0238 15.6526C13.2414 15.8315 13.5171 15.9092 13.7925 15.8654C14.0677 15.8215 14.3125 15.6598 14.4598 15.4211L15.306 13.8767C15.4266 13.6723 15.6118 13.5177 15.832 13.4439L18.9699 12.4115C19.2094 12.3317 19.4716 12.3524 19.6983 12.4693C19.925 12.5861 20.099 12.7905 20.1799 13.0352L21.1985 16.0893C21.2983 16.3814 21.2697 16.7051 21.1209 16.9766C20.972 17.2481 20.7177 17.4427 20.4217 17.5106C18.7331 17.9237 16.9575 17.3999 15.3581 16.4129C12.3815 14.5329 9.83108 12.1431 7.60233 9.27906L7.50718 9.1541C6.50548 7.77242 6.14915 5.9809 6.62536 4.29289C6.67538 4.01385 6.84247 3.76801 7.08579 3.61407C7.32911 3.46013 7.62537 3.42274 7.90063 3.50983L11.0371 4.50068C11.2843 4.58552 11.4854 4.76559 11.5941 5.00066C11.7029 5.23571 11.7082 5.50457 11.6089 5.74406L10.509 8.86036C10.4388 9.08767 10.2955 9.28133 10.1033 9.41244L8.58857 10.509C8.33776 10.6405 8.16468 10.8727 8.12534 11.1401C8.08599 11.4075 8.185 11.6792 8.39063 11.8694C8.69475 12.1486 9.01174 12.4105 9.34962 12.654L9.36556 10.6821Z" fill="currentColor"/>
                    </svg>
                  </div>
                  <div class="info-content">
                    <h3>Teléfono</h3>
                    <p><a href={`tel:${contactInfo.phone}`}>{contactInfo.phone}</a></p>
                  </div>
                </div>
                
                <div class="info-item">
                  <div class="info-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M18.364 17.364L12 23.7279L5.63604 17.364C2.12132 13.8492 2.12132 8.15076 5.63604 4.63604C9.15076 1.12132 14.8492 1.12132 18.364 4.63604C21.8787 8.15076 21.8787 13.8492 18.364 17.364ZM12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" fill="currentColor"/>
                    </svg>
                  </div>
                  <div class="info-content">
                    <h3>Ubicación</h3>
                    <p>{contactInfo.location}</p>
                  </div>
                </div>
              </div>
              
              
                </div>
              </div>
            </div>
            
            <div class="map-container">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3724.6762284659367!2d-89.64690192392386!3d21.02144658060046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f5677570919f8a1%3A0xb79b9718562bec92!2sUniversidad%20Polit%C3%A9cnica%20de%20Yucat%C3%A1n!5e0!3m2!1ses-419!2smx!4v1676598140562!5m2!1ses-419!2smx" width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <section class="faq-section">
      <div class="container">
        <h2>Preguntas frecuentes</h2>
        
        <div class="faq-container" id="faqContainer">
          {faqs.map((faq, index) => (
            <div class="faq-item">
              <button class="faq-question" data-index={index}>
                {faq.question}
                <svg class="arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 15.713L18.01 9.70299L16.597 8.28799L12 12.888L7.40399 8.28799L5.98999 9.70199L12 15.713Z" fill="currentColor"/>
                </svg>
              </button>
              <div class="faq-answer">
                <p>{faq.answer}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  </main>

  <Footer />
</MainLayout>

<script>
  // Manejo del formulario
  const contactForm = document.getElementById('contactForm');
  if (contactForm) {
    contactForm.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Aquí irían las validaciones y el envío de datos
      // Solo simulamos un envío exitoso
      
      const submitButton = this.querySelector('button[type="submit"]');
      submitButton.innerHTML = '<span>Enviando...</span>';
      submitButton.disabled = true;
      
      setTimeout(() => {
        this.innerHTML = `
          <div class="success-message">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM11.003 16L18.073 8.929L16.659 7.515L11.003 13.172L8.174 10.343L6.76 11.757L11.003 16Z" fill="#8B6BFF"/>
            </svg>
            <h3>¡Mensaje enviado!</h3>
            <p>Gracias por tu mensaje. Nos pondremos en contacto contigo pronto.</p>
            <a href="/contact" class="return-link">Volver al formulario</a>
          </div>
        `;
      }, 2000);
    });
  }
  
  // Manejo de las FAQ (preguntas frecuentes)
  const faqContainer = document.getElementById('faqContainer');
  if (faqContainer) {
    const faqQuestions = faqContainer.querySelectorAll('.faq-question');
    
    faqQuestions.forEach(question => {
      question.addEventListener('click', function() {
        const answer = this.nextElementSibling;
        const isOpen = answer.style.maxHeight;
        
        // Cerrar todas las respuestas abiertas
        faqContainer.querySelectorAll('.faq-answer').forEach(item => {
          item.style.maxHeight = null;
        });
        
        faqContainer.querySelectorAll('.faq-question').forEach(item => {
          item.classList.remove('active');
        });
        
        // Abrir la respuesta clickeada (si no estaba abierta)
        if (!isOpen) {
          answer.style.maxHeight = answer.scrollHeight + 'px';
          this.classList.add('active');
        }
      });
    });
    
    // Abrir la primera pregunta por defecto
    if (faqQuestions.length > 0) {
      faqQuestions[0].click();
    }
  }
</script>

<style>
  /* Generales */
  .contact-container {
    min-height: 100vh;
  }
  
  .container {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto;
  }
  
  h2 {
    font-size: 2rem;
    margin-bottom: 2rem;
    position: relative;
    display: inline-block;
  }
  
  h2::after {
    content: "";
    position: absolute;
    bottom: -8px;
    left: 0;
    width: 50px;
    height: 3px;
    background: var(--color-accent);
    border-radius: 2px;
  }
  
  .highlight {
    color: var(--color-accent);
  }
  
  /* Hero Section */
  .contact-hero {
    padding: 6rem 0 0;
    position: relative;
    text-align: center;
    overflow: hidden;
    background: linear-gradient(135deg, #1f1f1f 0%, #252525 100%);
    min-height: 300px;
  }
  
  .hero-content {
    position: relative;
    z-index: 2;
    padding-bottom: 6rem;
  }
  
  .contact-hero h1 {
    font-size: 3.2rem;
    margin-bottom: 1rem;
  }
  
  .contact-hero .subtitle {
    font-size: 1.2rem;
    color: var(--color-text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }
  
  .wave-separator {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    overflow: hidden;
    line-height: 0;
  }
  
  .wave-separator svg {
    position: relative;
    display: block;
    width: 100%;
    height: 80px;
  }
  
  /* Contact Main Section */
  .contact-main {
    padding: 4rem 0;
    background-color: #1a1a1a;
  }
  
  .contact-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 3rem;
  }
  
  /* Form Section */
  .contact-form-container h2 {
    margin-bottom: 2.5rem;
  }
  
  .contact-form {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
  }
  
  .form-group {
    width: calc(50% - 0.75rem);
    position: relative;
  }
  
  .form-group.full-width {
    width: 100%;
  }
  
  .form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    color: var(--color-text-secondary);
  }
  
  .form-group input,
  .form-group select,
  .form-group textarea {
    width: 100%;
    padding: 0.8rem 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 0.5rem;
    background-color: #252525;
    color: var(--color-text);
    font-size: 1rem;
    transition: all 0.3s ease;
  }
  
  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 2px rgba(139, 107, 255, 0.2);
  }
  
  .form-group input::placeholder,
  .form-group textarea::placeholder {
    color: rgba(255, 255, 255, 0.4);
  }
  
  .consent-group {
    display: flex;
    align-items: flex-start;
    gap: 0.8rem;
    margin-top: 0.5rem;
  }
  
  .consent-group input {
    width: auto;
    margin-top: 0.2rem;
  }
  
  .consent-group label {
    margin-bottom: 0;
    font-size: 0.85rem;
  }
  
  .submit-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background-color: var(--color-accent);
    color: white;
    padding: 0.8rem 2rem;
    border: none;
    border-radius: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
    margin-left: auto;
  }
  
  .submit-button:hover {
    background-color: var(--color-accent-hover);
    transform: translateY(-3px);
  }
  
  .submit-button:disabled {
    opacity: 0.7;
    cursor: not-allowed;
    transform: none;
  }
  
  .success-message {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 3rem 1rem;
    background-color: rgba(139, 107, 255, 0.05);
    border-radius: 1rem;
    border: 1px solid rgba(139, 107, 255, 0.2);
  }
  
  .success-message h3 {
    font-size: 1.6rem;
    margin: 1rem 0 0.5rem;
    color: var(--color-accent);
  }
  
  .success-message p {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
    color: var(--color-text-secondary);
  }
  
  .return-link {
    display: inline-block;
    color: var(--color-accent);
    font-weight: 600;
    margin-top: 1rem;
    transition: all 0.3s ease;
  }
  
  .return-link:hover {
    transform: translateX(5px);
  }
  
  /* Contact Info Section */
  .contact-info-container {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  
  .info-card {
    background-color: #252525;
    border-radius: 1rem;
    padding: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  .info-list {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 2rem 0;
  }
  
  .info-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
  }
  
  .info-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: rgba(139, 107, 255, 0.1);
    border-radius: 0.5rem;
    color: var(--color-accent);
  }
  
  .info-content h3 {
    font-size: 1.1rem;
    margin-bottom: 0.3rem;
  }
  
  .info-content p,
  .info-content a {
    color: var(--color-text-secondary);
  }
  
  .info-content a:hover {
    color: var(--color-accent);
    text-decoration: none;
  }
  
  .social-media h3 {
    font-size: 1.1rem;
    margin-bottom: 1rem;
  }
  
  .social-links {
    display: flex;
    gap: 1rem;
  }
  
  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: rgba(139, 107, 255, 0.1);
    border-radius: 50%;
    color: var(--color-accent);
    transition: all 0.3s ease;
  }
  
  .social-link:hover {
    background-color: var(--color-accent);
    color: white;
    transform: translateY(-3px);
  }
  
  .map-container {
    width: 100%;
    height: 250px;
    border-radius: 1rem;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  /* FAQ Section */
  .faq-section {
    padding: 5rem 0;
    background-color: #121212;
  }
  
  .faq-container {
    margin-top: 2rem;
    max-width: 800px;
  }
  
  .faq-item {
    margin-bottom: 1rem;
    border-radius: 0.5rem;
    overflow: hidden;
    background-color: #1e1e1e;
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  .faq-question {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.2rem;
    background: none;
    border: none;
    text-align: left;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-text);
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .faq-question:hover {
    color: var(--color-accent);
  }
  
  .faq-question.active {
    color: var(--color-accent);
  }
  
  .arrow-icon {
    transition: transform 0.3s ease;
  }
  
  .faq-question.active .arrow-icon {
    transform: rotate(180deg);
  }
  
  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
  }
  
  .faq-answer p {
    padding: 0 1.2rem 1.2rem;
    color: var(--color-text-secondary);
    line-height: 1.6;
  }
  
  /* Media Queries */
  @media (max-width: 968px) {
    .contact-grid {
      grid-template-columns: 1fr;
      gap: 3rem;
    }
    
    .contact-form-container,
    .contact-info-container {
      max-width: 600px;
      margin: 0 auto;
    }
  }
  
  @media (max-width: 768px) {
    .contact-hero h1 {
      font-size: 2.5rem;
    }
    
    .contact-hero .subtitle {
      font-size: 1rem;
    }
    
    .form-group {
      width: 100%;
    }
    
    .faq-question {
      font-size: 1rem;
      padding: 1rem;
    }
  }
  
  @media (max-width: 480px) {
    .contact-hero {
      padding: 4rem 0 0;
    }
    
    .contact-hero h1 {
      font-size: 2rem;
    }
    
    .hero-content {
      padding-bottom: 4rem;
    }
    
    .contact-main {
      padding: 3rem 0;
    }
    
    .submit-button {
      width: 100%;
      justify-content: center;
    }
    
    .info-item {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
    
    .info-content {
      padding-left: 0.5rem;
    }
  }
</style>